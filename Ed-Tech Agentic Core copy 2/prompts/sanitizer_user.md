Content Type: {mode}
Draft:
{text}

Perform final sanitization. Make this student-ready.

## Critical Cleaning Tasks

### 1. Meta-Language Elimination

Remove or naturally replace:

- The word "analogy" used explicitly
- References to "session," "lecture," "pre-read" as meta terms
- "As discussed," "we covered," "earlier we learned"
- "Let's," "we'll," "now we will" when they feel instructional
- Any reminder that students are reading lesson material

Replacement technique: Either remove the phrase entirely or convert to direct statement.

Example:

- Before: "Let's use an analogy to understand this. Think of memory as a filing cabinet."
- After: "Memory works like a filing cabinet."

### 2. Artifact Removal

Delete any:

- Conversational filler from AI: "Here is the content," "I have updated"
- Internal monologue or meta-commentary
- Placeholder text or incomplete sections

### 3. Formatting Polish

Ensure:

- Consistent markdown formatting
- Proper header hierarchy (only one H1, logical H2/H3 progression)
- Code blocks properly formatted
- Bullet points properly nested
- Clean whitespace (not excessive, not cramped)

### 4. Length Verification

{mode} targets:

- Pre-Read: 800-1200 words (10-15 minute read)
- Lecture Notes: 1500-2500 words (comprehensive but focused)
- Assignment: N/A (driven by question count)

If significantly over, condense without losing technical depth. If under, don't padâ€”ensure it's just not missing critical context.

## Output

Return ONLY the cleaned content. No preamble, no explanation, no meta-commentary about what you changed. Just the clean content ready for students.
